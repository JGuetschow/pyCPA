

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyCPA.tools package &mdash; pyCPA 0+untagged.22.gb54d30c.dirty documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="pyCPA.readData package" href="pyCPA.readData.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> pyCPA
          

          
          </a>

          
            
            
              <div class="version">
                0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pyCPA.core.html">pyCPA.core package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyCPA.readData.html">pyCPA.readData package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pyCPA.tools package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-pyCPA.tools.conversion">pyCPA.tools.conversion module</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyCPA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>pyCPA.tools package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/JGuetschow/pyCPA/blob/master/docs/sourcepyCPA.tools.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pycpa-tools-package">
<h1>pyCPA.tools package<a class="headerlink" href="#pycpa-tools-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pyCPA.tools.conversion">
<span id="pycpa-tools-conversion-module"></span><h2>pyCPA.tools.conversion module<a class="headerlink" href="#module-pyCPA.tools.conversion" title="Permalink to this headline">¶</a></h2>
<p>Created on Mon Mar 16 14:17:57 2020</p>
<p>&#64;author: Johannes Gütschow, <a class="reference external" href="mailto:mail&#37;&#52;&#48;johannes-guetschow&#46;de">mail<span>&#64;</span>johannes-guetschow<span>&#46;</span>de</a></p>
<dl class="function">
<dt id="pyCPA.tools.conversion.map_data">
<code class="descclassname">pyCPA.tools.conversion.</code><code class="descname">map_data</code><span class="sig-paren">(</span><em>input_DF</em>, <em>mapping_file</em>, <em>folder</em>, <em>conversion</em>, <em>onlynew: bool = True</em>, <em>add_fields: dict = {}</em>, <em>cols_to_remove: list = []</em>, <em>verbose: bool = False</em><span class="sig-paren">)</span> &#x2192; scmdata.run.ScmRun<a class="reference internal" href="_modules/pyCPA/tools/conversion.html#map_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyCPA.tools.conversion.map_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Map data from one metadata column to another one including summing and subtraction. This function can be used e.g.
to map data from one categorization into another one, or for data preprocessing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_DF</strong> – ScmDataFrame with data to be mapped</li>
<li><strong>mapping_file</strong> – csv file that contains the mapping rules.</li>
<li><strong>folder</strong> – the folder the mapping file resides in</li>
<li><strong>conversion</strong> – <p>a dict defining the rows to use in the input_DF the mapping_file and the output DF
either of the form
conversion = {</p>
<blockquote>
<div>”category”: [“CRFcategory”, “IPCCcategory”],
“categoryName”: [“*”, “IPCCcategoryName”],
“classification”: [“CRFclass”, “IPCCclass”]</div></blockquote>
<p>}
or of the simplified form
conversion = {</p>
<blockquote>
<div>’from_code_mapping’: ‘categoryCode’,
‘column_data’: ‘category’, #tell it that it’s working on the category column
‘to_code_mapping’: ‘CODE1996’,</div></blockquote>
<p>}</p>
</li>
<li><strong>onlynew</strong> – bool. If True only aggregated data will be returned. Else aggregated data added
will be added to the input DF and the resulting DF will be returned. Default True</li>
<li><strong>add_fields</strong> – <p>a dict defining metadata columns to add and the column in the conversion file
defining their value: default is an empty dict
Do not use with the generalized conversion format because the information can
be integrated into the conversion
Example:</p>
<blockquote>
<div>add_fields = {“type_t”: “type”}</div></blockquote>
</li>
<li><strong>cols_to_remove</strong> – a list defining columns that will be removed: default is an empty list</li>
<li><strong>verbose</strong> – bool: if set to true a lot of debug output will be written to the terminal</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">scmRun with the converted data</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scmdata.run.ScmRun</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pyCPA.readData.html" class="btn btn-neutral float-left" title="pyCPA.readData package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Johannes Gütschow

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>